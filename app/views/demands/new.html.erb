
<h1>Request an account at <%= the_organization %></h1>

Please fill this form. Fields with an asterisk (*) are mandatory.<p>

<div class="form_container">

  <%= form_for @demand, :url => { :action => (@demand.new_record? ? "create" : "update"), :id => @demand.id } do |f| %>

  <%= f.error_messages %>

  <p>

  <table class="form_table">

    <tr>
      <th>Title:</th>
      <td><%= f.text_field :title, :size => 10 %> <span class="field_note">(e.g. 'Mr.', 'Dr.', 'Princess' etc)</span></td>
    </tr>

    <tr>
      <th>* First Name:</th>
      <td><%= f.text_field :first, :size => 20 %></td>
    </tr>

    <tr>
      <th>Middle Name:</th>
      <td><%= f.text_field :middle, :size => 10 %></td>
    </tr>

    <tr>
      <th>* Last Name:</th>
      <td><%= f.text_field :last, :size => 20 %></td>
    </tr>

    <tr>
      <td colspan="2" class="section_separator">&nbsp;</td>
    </tr>

    <tr>
      <th>* Name of Institution/Organization:</th>
      <td><%= f.text_field :institution, :size => 60 %></td>
    </tr>

    <tr>
      <th>* Department</th>
      <td><%= f.text_field :department, :size => 60 %></td>
    </tr>

    <tr>
      <th>* Current position or role:</th>
      <td><%= f.select :position, options_for_select(
              [ [ "(select one)", "" ], "Faculty", "PostDoc", "Researcher", "Student", "Industry", "Other" ],
              @demand.position)
          %></td>
    </tr>

    <tr>
      <th>* Email address:</th>
      <td><%= f.text_field :email, :size => 60 %></td>
    </tr>

    <tr>
      <th>Street Address (line 1):</th>
      <td><%= f.text_field :street1, :size => 60 %></td>
    </tr>

    <tr>
      <th>Street Address (line 2):</th>
      <td><%= f.text_field :street2, :size => 60 %></td>
    </tr>

    <tr>
      <th>City:</th>
      <td><%= f.text_field :city, :size => 30 %></td>
    </tr>

    <tr>
      <th>* Province/State:</th>
      <td><%= f.text_field :province, :size => 30 %></td>
    </tr>

    <tr>
      <th>* Country:</th>
      <td><%= f.text_field :country, :size => 30 %></td>
    </tr>

    <tr>
      <th>Postal Code:</th>
      <td><%= f.text_field :postal_code, :size => 8 %></td>
    </tr>

    <tr>
      <td colspan="2" class="section_separator">&nbsp;</td>
    </tr>

    <tr>
      <th>Time Zone:</th>
      <td>
        <%= f.time_zone_select :time_zone,
            ActiveSupport::TimeZone.all.select { |t| t.name =~ /canada/i },
            { :default => ActiveSupport::TimeZone['Eastern Time (US & Canada)'], :include_blank => true }
        %>
      </td>
    </tr>

    <tr>
      <td colspan="2" class="section_separator">&nbsp;</td>
    </tr>

    <tr>
      <th>* Service you request:</th>
      <td>
        <%= f.select :service, options_for_select( [ [ "(select one)", "" ] ] + NewAccountOfferings::ServiceList.map { |k,pair| [ pair[0], k ] }, @demand.service) %>
      </td>
    </tr>

    <tr>
      <th>Prefered 'login' name:</th>
      <td><%= f.text_field :login, :size => 10 %> <span class="field_note">(e.g. 'tjones', 'msmith' etc)</span></td>
    </tr>

    <tr>
      <td colspan="8">&nbsp;</td>
    </tr>

    <tr>
      <th>Comments or special requests:</th>
      <td><%= f.text_area :comment %></td>
    </tr>

    <tr>
      <td colspan="2">&nbsp;</td>
    </tr>

    <tr>
      <td colspan="2">
        <center><%= f.submit(@demand.new_record? ? "Request Account" : "Update Request") %>
        <span class="field_note">(There's a delay of 3 seconds after submission)</span>
        </center>
      </td>
    </tr>

  </table>

  <% end %>

</div>

